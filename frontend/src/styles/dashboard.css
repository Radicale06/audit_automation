@tailwind base;
@tailwind components;
@tailwind utilities;

@layer components {
  /* Layout principal */
  .dashboard-layout {
    @apply min-h-screen bg-gradient-to-br from-surface-50 to-surface-100 
           dark:from-navy-900 dark:to-navy-800;
  }

  /* Topbar */
  .topbar {
    @apply sticky top-0 z-40 w-full backdrop-blur-xl 
           border-b border-surface-200/50 dark:border-navy-800/50 
           bg-white/90 dark:bg-navy-900/90;
  }

  .topbar-content {
    @apply flex items-center justify-between h-16 px-4 md:px-6 lg:px-8 
           max-w-screen-2xl mx-auto;
  }

  .topbar-title {
    @apply text-2xl font-display font-bold 
           bg-gradient-to-r from-surface-900 to-surface-700 
           dark:from-white dark:to-surface-200 
           bg-clip-text text-transparent;
  }

  .topbar-subtitle {
    @apply text-sm text-surface-500/80 dark:text-surface-400/80 mt-0.5;
  }

  /* Sidebar */
  .dashboard-sidebar {
    @apply fixed inset-y-0 left-0 z-50 w-64 
           transform transition-all duration-300 ease-spring
           bg-white/90 dark:bg-navy-800/90 backdrop-blur-xl
           border-r border-surface-200/50 dark:border-navy-700/50
           md:relative md:translate-x-0
           overflow-y-auto scrollbar-custom;
  }

  .sidebar-header {
    @apply p-6 flex items-center gap-3 mb-6 
           border-b border-surface-200/50 dark:border-navy-700/50;
  }

  .sidebar-logo {
    @apply w-10 h-10 rounded-xl bg-primary-500/10 p-2 
           transition-transform duration-300 hover:scale-105;
  }

  .nav-section {
    @apply space-y-1 px-3;
  }

  .nav-item {
    @apply flex items-center gap-3 w-full px-4 py-3 rounded-lg 
           text-sm font-medium transition-all duration-200
           text-surface-600 dark:text-surface-400
           hover:bg-surface-100/70 dark:hover:bg-navy-700/70
           focus-visible:ring-2 focus-visible:ring-primary-500/50
           outline-none;
  }

  .nav-item-active {
    @apply bg-primary-50 text-primary-700 
           dark:bg-primary-900/30 dark:text-primary-400
           hover:bg-primary-50/80 dark:hover:bg-primary-900/40;
  }

  .nav-icon {
    @apply w-5 h-5 transition-transform duration-200 ease-spring;
  }

  /* Main Content */
  .dashboard-main {
    @apply flex-1 px-4 py-6 md:px-6 lg:px-8 
           overflow-x-hidden overflow-y-auto;
  }

  .dashboard-grid {
    @apply grid gap-4 sm:gap-6
           grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4;
  }

  /* Cards */
  .glass-card {
    @apply relative overflow-hidden rounded-xl 
           border border-surface-200/50 dark:border-navy-700/50 
           bg-white/90 dark:bg-navy-800/90 backdrop-blur-xl
           shadow-sm hover:shadow-md 
           transition-all duration-300
           hover:scale-[1.02] hover:-translate-y-1;
  }

  .stats-card {
    @apply glass-card p-6 flex flex-col gap-3;
  }

  .stats-card-header {
    @apply flex items-center justify-between;
  }

  .stats-card-icon {
    @apply w-10 h-10 rounded-lg bg-primary-500/10 p-2 
           text-primary-600 dark:text-primary-400;
  }

  .stats-card-title {
    @apply text-sm font-medium text-surface-600 dark:text-surface-400;
  }

  .stats-card-value {
    @apply text-2xl font-bold
           bg-gradient-to-r from-surface-900 to-surface-700 
           dark:from-white dark:to-surface-200
           bg-clip-text text-transparent;
  }

  .stats-card-trend {
    @apply flex items-center gap-1 text-sm font-medium;
  }

  .trend-up {
    @apply text-green-600 dark:text-green-400;
  }

  .trend-down {
    @apply text-red-600 dark:text-red-400;
  }

  /* Charts */
  .chart-card {
    @apply glass-card p-6;
  }

  .chart-header {
    @apply flex items-center justify-between mb-6 
           pb-4 border-b border-surface-200/50 dark:border-navy-700/50;
  }

  .chart-title {
    @apply text-lg font-semibold text-surface-900 dark:text-white;
  }

  /* Filters */
  .filter-bar {
    @apply mb-6 flex flex-wrap gap-4 items-center;
  }

  .filter-group {
    @apply flex items-center gap-2;
  }

  .filter-label {
    @apply text-sm font-medium text-surface-600 dark:text-surface-400;
  }

  .filter-select {
    @apply w-40 rounded-lg border border-surface-200 
           dark:border-navy-700 bg-white dark:bg-navy-800
           text-sm text-surface-900 dark:text-white;
  }

  /* Utils */
  .ease-spring {
    transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
  }

  .notification-badge {
    @apply absolute -top-1 -right-1 w-4 h-4 
           flex items-center justify-center
           bg-red-500 text-xs font-medium text-white 
           rounded-full animate-pulse;
  }

  .user-avatar {
    @apply h-10 w-10 rounded-full 
           ring-2 ring-primary-500/30 dark:ring-primary-400/30
           transition-all duration-300 
           hover:ring-primary-500 dark:hover:ring-primary-400
           hover:scale-105;
  }

  /* Responsive */
  @screen sm {
    .dashboard-main {
      @apply px-6;
    }
  }

  @screen md {
    .dashboard-sidebar {
      @apply w-72;
    }
  }

  @screen lg {
    .dashboard-sidebar {
      @apply w-64;
    }
    
    .dashboard-main {
      @apply px-8;
    }
  }

  /* Animations */
  @keyframes float {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-10px); }
  }

  .animate-float {
    animation: float 6s ease-in-out infinite;
  }

  /* Scrollbar */
  .scrollbar-custom {
    scrollbar-width: thin;
    scrollbar-color: theme('colors.primary.500/50') transparent;
  }

  .scrollbar-custom::-webkit-scrollbar {
    width: 6px;
  }

  .scrollbar-custom::-webkit-scrollbar-track {
    @apply bg-transparent;
  }

  .scrollbar-custom::-webkit-scrollbar-thumb {
    @apply bg-primary-500/50 rounded-full hover:bg-primary-500/70;
  }
}